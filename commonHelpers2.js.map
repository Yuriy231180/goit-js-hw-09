{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst STORAGE_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\n\nconst input = form.querySelector('input');\ninput.classList.add('input');\n\nconst textarea = form.querySelector('textarea');\ntextarea.classList.add('textarea');\n\nconst btn = form.querySelector('button');\nbtn.classList.add('submitbatton');\n\nconst label = form.querySelector('label');\nlabel.classList.add('labelname');\n\nconst initialMessage = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\nif (initialMessage) {\n  textarea.value = initialMessage.message;\n  input.value = initialMessage.email;\n  btn.disabled = !(input.value.trim() && textarea.value.trim());\n}\n\nform.addEventListener(\n  'input',\n  throttle(() => {\n    localStorage.setItem(\n      STORAGE_KEY,\n      JSON.stringify({\n        email: input.value.trim(),\n        message: textarea.value.trim(),\n      })\n    );\n    btn.disabled = !(input.value.trim() && textarea.value.trim());\n  }, 500)\n);\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  let email = input.value.trim();\n  let message = textarea.value.trim();\n\n  if (email !== '' && message !== '') {\n    console.log({ email, message });\n    localStorage.removeItem(STORAGE_KEY);\n    form.reset();\n  } else {\n    alert('Будь ласка, заповніть всі поля форми.');\n  }\n  btn.disabled = true;\n});\n"],"names":["STORAGE_KEY","form","input","textarea","btn","label","initialMessage","throttle","event","email","message"],"mappings":"oGAEA,MAAMA,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAQD,EAAK,cAAc,OAAO,EACxCC,EAAM,UAAU,IAAI,OAAO,EAE3B,MAAMC,EAAWF,EAAK,cAAc,UAAU,EAC9CE,EAAS,UAAU,IAAI,UAAU,EAEjC,MAAMC,EAAMH,EAAK,cAAc,QAAQ,EACvCG,EAAI,UAAU,IAAI,cAAc,EAEhC,MAAMC,EAAQJ,EAAK,cAAc,OAAO,EACxCI,EAAM,UAAU,IAAI,WAAW,EAE/B,MAAMC,EAAiB,KAAK,MAAM,aAAa,QAAQN,CAAW,CAAC,EAE/DM,IACFH,EAAS,MAAQG,EAAe,QAChCJ,EAAM,MAAQI,EAAe,MAC7BF,EAAI,SAAW,EAAEF,EAAM,MAAM,KAAM,GAAIC,EAAS,MAAM,KAAI,IAG5DF,EAAK,iBACH,QACAM,EAAS,IAAM,CACb,aAAa,QACXP,EACA,KAAK,UAAU,CACb,MAAOE,EAAM,MAAM,KAAM,EACzB,QAASC,EAAS,MAAM,KAAM,CACtC,CAAO,CACP,EACIC,EAAI,SAAW,EAAEF,EAAM,MAAM,KAAM,GAAIC,EAAS,MAAM,KAAI,EAC3D,EAAE,GAAG,CACR,EAEAF,EAAK,iBAAiB,SAAUO,GAAS,CACvCA,EAAM,eAAc,EAEpB,IAAIC,EAAQP,EAAM,MAAM,KAAI,EACxBQ,EAAUP,EAAS,MAAM,KAAI,EAE7BM,IAAU,IAAMC,IAAY,IAC9B,QAAQ,IAAI,CAAE,MAAAD,EAAO,QAAAC,CAAS,CAAA,EAC9B,aAAa,WAAWV,CAAW,EACnCC,EAAK,MAAK,GAEV,MAAM,uCAAuC,EAE/CG,EAAI,SAAW,EACjB,CAAC"}